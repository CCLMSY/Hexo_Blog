---
title: 题解|1006.PSO-2023暑期杭电多校04
date: 2023/7/27
updated: 2023/9/27
tags:
  - 2023暑期杭电多校
  - 概率/期望
categories: 算法竞赛
keywords:
top_img: false
comments: true
cover:
toc: true
abbrlink: eeb0b0f3
description: 题解|1006.PSO-2023暑期杭电多校04 图·概率/期望
toc_number:
toc_style_simple:
copyright:
copyright_author:
copyright_author_href:
copyright_url:
copyright_info:
highlight_shrink:
aside:
---
# 1006.PSO
**数学题、概率论**
## 题目大意
给定一个星状图（中心节点与每个其他节点之间各有一条边，其他节点之间没有边），任选两个点，求它们之间的距离的数学期望以及最大距离的长度
## 解题思路
任选两个点的方案总数为 $C_n^2=n(n-1)/2$ 
其中一个点是中心点的方案数为 $n-1$ ，距离是 $1$
其余方案数为 $n(n-1)/2-(n-1)$ ，距离是 $2$
因此任选两个点的距离期望为：
$$\begin{align}
    E&=\{[n(n-1)/2-(n-1)]\times2+(n-1)\times1\}/C_n^2 \newline
    &=[n(n-1)-(n-1)\times2+(n-1)]/C_n^2 \newline
    &=(n-1)^2/C_n^2 \newline
    &=2(n-1)/n
\end{align}
$$
注意控制精度
## 参考程序
> 参考代码为已AC代码主干，其中部分功能需读者自行实现

```cpp
void solve()
{
    ll n;
    cin >> n;
    printf("%.9lf",2.*(n-1)/n);
    if(n>2) printf(" 2.000000000\n");
    else printf(" 1.000000000\n");
}
```