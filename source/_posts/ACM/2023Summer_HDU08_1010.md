---
title: 题解|1010.Rikka with Square Numbers-2023暑期杭电多校08
date: 2023/8/10
updated: 2023/9/28
tags:
  - 2023暑期杭电多校
  - 思维
  - 贪心
categories: 算法竞赛
keywords:
top_img: false
comments: true
cover:
toc: true
abbrlink: f06747e0
description: 题解|1010.Rikka with Square Numbers-2023暑期杭电多校08 思维·贪心
toc_number:
toc_style_simple:
copyright:
copyright_author:
copyright_author_href:
copyright_url:
copyright_info:
highlight_shrink:
aside:
---

# 1010.Rikka with Square Numbers
**数学、贪心**
## 题目大意
给定两个正整数 $a,b$ ，每次操作可以使 $a$ 增大或减小一个平方数 $x$ ，求把 $a$ 变成 $b$ 的最小操作次数 

## 解题思路
即求 $a,b$ 之差最少可以用多少个平方数的和差表示。以下是一些思路：
1. $a=b$ ， $0$
2. $n^2$ ，平方数本身， $1$
3. $n^2-(n-1)^2=2n-1$ ，用两个相邻平方数之差即可表示任意奇数
4. $n^2-(n-2)^2=4(n-1)$ ，用两个距离为 $2$ 的平方数之差可以表示任意 $4$ 的倍数
5. 结合以上两条可以归纳证明两个平方数之差一定为奇数或 $4$ 的倍数，$2$
6. 模 $4$ 余 $2$ 的情况可能为两平方数加和，可以枚举判断， $2$
7. 其余的数可以用第 $3$ 点得到任意奇数后加减 $1$ ， $3$ 

综上判定即可

### 时间复杂度
 $O(\sqrt n)$

## 参考代码
> 参考代码为已AC代码主干，其中部分功能需读者自行实现

```cpp
bool Is_Sqr(ll x){
    ll t=sqrt(x);
    if(t*t==x) return 1;
    return 0;
}
void solve()
{
    ll a,b;cin >> a >> b;
    if(a<b) swap(a,b); ll dif=a-b;
    if(a==b) {cout << 0 << endl;return ;}
    if(Is_Sqr(dif)) {cout << 1 << endl;return ;}
    if(dif%2||(dif%4==0)) {cout << 2 << endl;return ;}
    for(ll i=1;i*i<=dif;i++) if(Is_Sqr(dif-i*i)) {cout << 2 << endl;return ;}
    cout << 3 << endl;
}
```